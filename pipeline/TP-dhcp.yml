Objectif: |
  Obtenir l'attribution automatique d'une adresse ip via DHCP depuis un ordinateur branché au réseau
  Le routeur doit transmettre automatiquement les requêtes DHCP vers le serveur situé sur un autre réseau que l'ordinateur,
  grâce à la commande `ip helper-address [ip du serveur DHCP]`
  
---

Exercice:
  - Préparer le workspace Cisco:
    - ouvrir Packet Tracer
    - Packet Tracer:
      - File >> New
      - File >> Save as `tp-dhcp.pkt`
  - Préparer les éléments:
    - Router:
      - 2811:
        - Ajouter un routeur 2811 nommé router0
    - Serveur:
      - Ajouter un serveur nommé DHCP
    - Machine:
      - Ajouter un PC nommé PC0
  - Établir les liaisons:
    - PC0 (fa0) --> Routeur (fa/00)
    - Routeur(fa0/1) --> DHCP(fa0)
  - Configurer:
    - Configurer le routeur router0:
        - Configurer l'interface f0/1 du routeur router0 (coté Serveur DHCP):
          - Router0 >> Config:
            - [Router0 >> Config >> FastEthernet0/1] Port Status on
            - Ip :
              - [Router0 >> Config >> FastEthernet0/1 >> IP Configuration] `192.168.1.1` `255.255.255.0`
          - Router0 >> CLI:
            - [Router0 >> CLI] `en`
            - [Router0 >> CLI] `conf t`
            - [Router0 >> CLI] `int f0/1`
            - [Router0 >> CLI] `ip helper-address 192.168.1.2` #ip helper-adress first occurence
        - Configurer l'interface fa0/0 du routeur router0 (coté PC0):
          - Router0 >> Config:
            - [Router0 >> Config >> FastEthernet0/0] Port Status on
            - Ip:
              - Router0 >> Config >> FastEthernet0/0 >> IP Configuration] `192.168.0.1` `255.255.255.0`
          - Router0 >> CLI:
            - [Router0 >> CLI] `en`
            - [Router0 >> CLI] `conf t`
            - [Router0 >> CLI] `int f0/0`
            - [Router0 >> CLI] `ip helper-address 192.168.1.2` #ip helper-adress second occurence
    - Configurer le serveur DHCP:
      - Configurer l'interface f0 du serveur DHCP:
        - Router0 >> Config:
          - [DHCP >> Config >> FastEthernet0 >> IP Configuration] `192.168.1.2` `255.255.255.0`, gateway `192.168.1.1`
      - Démarrer le service DHCP:
        - Service >> DHCP:
          - [DHCP >> Services >> DHCP] Service on
          - [DHCP >> Services >> DHCP] Gateway `0.0.0.0`
          - [DHCP >> Services >> DHCP] Start IP Address `192.168.0.2` `255.255.255.0`
  - Re-connecter PC0:
    - **Objectif, obtenir une ip automatiquement**:
      - [PC0 >> Desktop >> IP configuration] (action utilisataur) Toggle DHCP --> Static --> DHCP pour déclencher une requête DHCP
  
Trouble shooting:
  - Router0 >> CLI:
    - [Router0 >> CLI] `en`
    - [Router0 >> CLI] `sh int brief`
  - re-démarrer packet tracer
  
---

**Summary**:

  - Préparation: |
    ouvrir Packet Tracer
    File >> New
    File >> Save as `tp-dhcp.pkt`

  - Matériel: |
    Ajouter un routeur 2811 nommé router0
    Ajouter un serveur nommé DHCP
    Ajouter un PC nommé PC0

  - Liaisons: |
    PC0 (fa0) --> Routeur (fa/00)
    Routeur(fa0/1) --> DHCP(fa0)

  - Configuration du routeur:
  
    - Configuration de l’interface f0/1: |
      [Router0 >> Config >> FastEthernet0/1] Port Status on
      [Router0 >> Config >> FastEthernet0/1 >> IP Configuration] `192.168.1.1` `255.255.255.0`
      [Router0 >> CLI] `en`
      [Router0 >> CLI] `conf t`
      [Router0 >> CLI] `int f0/1`
      [Router0 >> CLI] `ip helper-address 192.168.1.2`

    - Configuration de l’interface f0/0: |
      [Router0 >> Config >> FastEthernet0/0] Port Status on
      Router0 >> Config >> FastEthernet0/0 >> IP Configuration] `192.168.0.1` `255.255.255.0`
      [Router0 >> CLI] `en`
      [Router0 >> CLI] `conf t`
      [Router0 >> CLI] `int f0/0`
      [Router0 >> CLI] `ip helper-address 192.168.1.2`

  - Configuration du serveur: |
    [DHCP >> Config >> FastEthernet0 >> IP Configuration] `192.168.1.2` `255.255.255.0`, gateway `192.168.1.1`
    [DHCP >> Services >> DHCP] Service on
    [DHCP >> Services >> DHCP] Gateway `0.0.0.0`
    [DHCP >> Services >> DHCP] Start IP Address `192.168.0.2` `255.255.255.0`

  - Test: |
    [PC0 >> Desktop >> IP configuration] (action utilisataur) Toggle DHCP --> Static --> DHCP pour déclencher une requête DHCP

  - Debug: |
    [Router0 >> CLI] `en`
    [Router0 >> CLI] `sh int brief`
