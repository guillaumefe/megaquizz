Objectif : |
  Mettre en place un serveur DHCP dans un VLAN "30" puis lui faire délivrer des adresses IP 
  au différentes machines du réseau. (Vlan 10, Vlan 20) Est-ce possible ?

Exercice:
  - créer vlan 10, 20, 30 sur tous les switch:
    - S1 >> CLI:
      - `en`
      - `conf t`
      - `vlan 10`
      - `vlan 20`
      - `vlan 30`
    - S2 >> CLI:
      - `en`
      - `conf t`
      - `vlan 10`
      - `vlan 20`
      - `vlan 30`
    - S3 >> CLI:
      - `en`
      - `conf t`
      - `vlan 10`
      - `vlan 20`
      - `vlan 30`
  - tous les switch doivent être en trunk entre eux (**sans ether channel**):
    - S1 >> CLI:
      - `en`
      - `conf t`
      - `int range f0/4-5`
      - `sw trunk encapsulation dot1q`
      - `sw mode trunk`
      - `sw trunk allowed vlan 10,20,30`
      - `exit`
      - `int range g0/1-2`
      - `sw trunk encapsulation dot1q`
      - `sw mode trunk`
      - `sw trunk allowed vlan 10,20,30`
    - S2 >> CLI:
      - `en`
      - `conf t`
      - `int range g0/1-2`
      - `sw trunk encapsulation dot1q`
      - `sw mode trunk`
      - `sw trunk allowed vlan 10,20,30`
      - `exit`
      - `int range f0/3-4`
      - `sw trunk encapsulation dot1q`
      - `sw mode trunk`
      - `sw trunk allowed vlan 10,20,30`
    - S3 >> CLI:
      - `en`
      - `conf t`
      - `int range f0/1-2`
      - `sw trunk encapsulation dot1q`
      - `sw mode trunk`
      - `sw trunk allowed vlan 10,20,30`
      - `exit`
      - `int range f0/3-4`
      - `sw trunk encapsulation dot1q`
      - `sw mode trunk`
      - `sw trunk allowed vlan 10,20,30`
  - le routeur dispose d’interfaces virtuels pour chaque vlan et ces interfaces ont une IP:
    - Router >> CLI:
      - `en`
      - `conf t`
      - `int f0/0`
      - `no ip address`
      - `no shut`
      - `exit`
      - `int f0/0.10`
      - `encapsulation dot1Q 10`
      - `ip address 192.168.10.1 255.255.255.0`
      - `exit`
      - `int f0/0.20`
      - `encapsulation dot1Q 20`
      - `ip address 192.168.20.1 255.255.255.0`
      - `exit`
      - `int f0/0.30`
      - `encapsulation dot1Q 30`
      - `ip address 192.168.30.1 255.255.255.0`
  - le serveur DHCP est associé au vlan 30:
    - S2 >> CLI:
      - `en`
      - `conf t`
      - `int f0/5`
      - `sw mode access`
      - `sw access vlan 30`
  - le serveur DHCP possède une IP fixe:
    - Serveur >> Config >> FastEthernet 0:
      - `ip address 192.168.30.2`
      - `subnet mask: 255.255.255.0`
  - l’ip helper-adress est configuré sur le routeur en fonction de l’adresse du serveur DHCP:
    - Routeur >> CLI:
      - `int f0/0.10`
      - `ip helper-address 192.168.30.2`
      - `int f0/0.20`
      - `ip helper-address 192.168.30.2`
      - `int f0/0.30`
      - `ip helper-address 192.168.30.2`
  - la gateway du Serveur DHCP est l’interface du routeur sur laquelle il est connecté:
    - Serveur >> Desktop >> IP Configuration:
      - gateway:
        - `192.168.30.1`
  - les pool d’ip du serveur DHCP sont créés:
    - Serveur >> Services >> DHCP:
      - créer pool10:
        - première IP: 192.168.10.2
      - créer pool20:
        - première IP: 192.168.20.2
      - créer pool30:
        - première IP: 192.168.30.3
  - activer service DHCP sur le serveur:
    - le service DHCP est on
  - les ordinateurs sont configurés pour demander des adresses IP sur le réseau:
    - PC0 >> Desktop >> IP Configuration:
      - Static --> DHCP (action utilisateur)
    - PC1 >> Desktop >> IP Configuration:
      - Static --> DHCP (action utilisateur)
    - PC2 >> Desktop >> IP Configuration:
      - Static --> DHCP (action utilisateur)
    - PC3 >> Desktop >> IP Configuration:
      - Static --> DHCP (action utilisateur)
    - PC4 >> Desktop >> IP Configuration:
      - Static --> DHCP (action utilisateur)
